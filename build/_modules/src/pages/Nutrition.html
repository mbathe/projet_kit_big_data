

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>src.pages.Nutrition &mdash; Documentation bgdia700 1.0</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=7a28dfa3"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/translations.js?v=e6b791cb"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Recherche" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            bgdia700
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/recettes.html">Recettes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/nutrition.html">Nutrition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/analyse_user.html">Analyse Utilisateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/recipes/Welcom.html">Welcom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/recipes/Analyse_recipe.html">Analyse Recipe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../utils.html">Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process.html">Processus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../visualizations.html">Visualisations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">bgdia700</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Code du module</a></li>
      <li class="breadcrumb-item active">src.pages.Nutrition</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Code source de src.pages.Nutrition</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">src.process.nutrition_preprocess</span> <span class="kn">import</span> <span class="n">load_data</span><span class="p">,</span> <span class="n">clean_data</span>
<span class="kn">from</span> <span class="nn">st_aggrid</span> <span class="kn">import</span> <span class="n">AgGrid</span>
<span class="kn">from</span> <span class="nn">st_aggrid.grid_options_builder</span> <span class="kn">import</span> <span class="n">GridOptionsBuilder</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">src.pages.recipes.Analyse_recipes</span> <span class="kn">import</span> <span class="n">DisplayManager</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">handlers</span><span class="o">=</span><span class="p">[</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;../..&#39;</span><span class="p">),</span> <span class="s2">&quot;app.log&quot;</span><span class="p">)),</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="n">error_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;../..&#39;</span><span class="p">),</span> <span class="s2">&quot;error.log&quot;</span><span class="p">))</span>
<span class="n">error_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">error_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
    <span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">error_handler</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">load_dotenv</span><span class="p">()</span>
<span class="n">DEPLOIEMENT_SITE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;DEPLOIEMENT_SITE&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="NutritionPage">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage">[docs]</a>
<span class="k">class</span> <span class="nc">NutritionPage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Classe représentant une page d&#39;analyse nutritionnelle d&#39;un jeu de données sur les recettes.</span>
<span class="sd">    Elle inclut des méthodes pour charger, nettoyer, analyser et afficher des informations sur les recettes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialise la classe NutritionPage avec le répertoire des données.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            data_directory (str): Le chemin vers le répertoire contenant les données à charger.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_directory</span> <span class="o">=</span> <span class="n">data_directory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="NutritionPage.load_and_clean_data">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage.load_and_clean_data">[docs]</a>
    <span class="k">def</span> <span class="nf">load_and_clean_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">50000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Charge et nettoie les données nutritionnelles.</span>
<span class="sd">        Utilise les fonctions `load_data` et `clean_data` pour charger et nettoyer les données respectivement.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[Optional[pd.DataFrame], Optional[pd.DataFrame]]: Un tuple contenant les données brutes et nettoyées.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span> <span class="o">=</span> <span class="n">clean_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Erreur lors du chargement et du nettoyage des données : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="NutritionPage.display_context">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage.display_context">[docs]</a>
    <span class="k">def</span> <span class="nf">display_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Affiche le contexte et la description du jeu de données ainsi que la distribution des valeurs nutritionnelles.</span>
<span class="sd">        Présente également des informations sur le nettoyage du jeu de données et les valeurs extrêmes à ignorer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Contexte&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Dans cette partie, nous allons nous concentrer sur les valeurs nutritionnelles des recettes. Nous chercherons en particulier à déterminer l&#39;influence des différentes valeurs nutritionnelles sur la popularité d&#39;une recette.&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Description du jeu de données global&#39;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Notre jeu de données fusionne la table des valeurs nutritionnelles des recettes avec celle des notes attribuées par les utilisateurs :&#39;</span><span class="p">)</span>

            <span class="n">desc_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
            <span class="n">nan_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
            <span class="n">desc_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;NaN Count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan_count</span>

            <span class="n">st</span><span class="o">.</span><span class="n">dataframe</span><span class="p">(</span><span class="n">desc_df</span><span class="p">,</span> <span class="n">use_container_width</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="s2">&quot;Nous avons deux moyens de déterminer la popularité d&#39;une recette : le nombre de notes et la moyenne des notes.&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Nous avons sept valeurs nutritionnelles différentes : les calories (en calories) et six différents apports journaliers (en %PDV).&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;Le %PDV indique quel pourcentage de la valeur quotidienne recommandée d&#39;un nutriment est fourni par une portion d&#39;un aliment spécifique.&quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;Par exemple, Sodium 30%PDV indique que la recette fournit 30% des apports journaliers en sel.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Calories&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">,</span> <span class="s1">&#39;Glucides&#39;</span><span class="p">]</span>

            <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span>
                <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Boxplot de </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span>
                <span class="s1">&#39;Distribution des valeurs nutritionnelles par recette&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
            <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="s1">&#39;Notre dataset ne possède pas de valeurs nulles (NaN), cependant il possède énormément de valeurs extrêmes.&#39;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Notamment, certaines recettes n&#39;ont aucun sens avec plus de 400 000 calories et plus de 360 000</span><span class="si">% d</span><span class="s2">es apports journaliers en sucre.&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">dataframe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span><span class="o">.</span><span class="n">Calories</span> <span class="o">&gt;</span>
                         <span class="mi">400000</span><span class="p">],</span> <span class="n">use_container_width</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hide_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span>
                <span class="s2">&quot;### Dans la suite de notre étude, pour nettoyer notre jeu de données, nous allons ignorer :&quot;</span><span class="p">)</span>
            <span class="n">ma_liste</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s2">&quot;Les recettes qui ont été notées moins de 5 fois. On évite ainsi le biais de notation des recettes notées une seule fois.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Les recettes qui font plus de 800 calories. On ne notera pas les alcools et les recettes aberrantes.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Les recettes dont les apports journaliers en nutrition sont supérieurs à 100%.&quot;</span>
            <span class="p">]</span>
            <span class="k">for</span> <span class="n">entree</span> <span class="ow">in</span> <span class="n">ma_liste</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">entree</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Description du jeu de données nettoyé&#39;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">dataframe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="o">.</span><span class="n">describe</span><span class="p">(),</span>
                         <span class="n">use_container_width</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span>
                <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Boxplot de </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span>
                <span class="s1">&#39;Distribution des valeurs nutritionnelles par recette&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
            <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Nous avons ignoré beaucoup de données lors du nettoyage de notre jeu de données mais nous avons obtenu une répartition utilisable des données.&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;affichage du contexte : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="NutritionPage.display_nutrition_analysis">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage.display_nutrition_analysis">[docs]</a>
    <span class="k">def</span> <span class="nf">display_nutrition_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Affiche une analyse des valeurs nutritionnelles dans les données nettoyées.</span>
<span class="sd">        Cela comprend des histogrammes des différentes valeurs nutritionnelles, une matrice des corrélations et des scatterplots par rapport aux notes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Analyse des valeurs nutritionnelles&#39;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s1">&#39;Première approche&#39;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="s1">&#39;Commençons par observer la façon dont les données sont réparties dans nos différentes catégories :&#39;</span><span class="p">)</span>

            <span class="c1"># Histogrammes des valeurs nutritionnelles</span>

            <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Calories&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Graisses&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Sodium&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Glucides&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Protéines&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Sucre&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>  <span class="c1"># Cache le dernier subplot</span>

            <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">plt</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;On observe que les calories suivent quasiment une distribution normale, avec un léger décalage à droite.</span>
<span class="sd">                En revanche les autres catégories semblent plutôt suivre une distribution exponentielle,</span>
<span class="sd">                ce qui s&#39;explique par le fait que ce sont des pourcentages.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># Matrice des corrélations</span>

            <span class="n">st</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s1">&#39;Première approche&#39;</span><span class="p">)</span>

            <span class="n">correlation_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[[</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Nombre de notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Calories&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span>
                                                          <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

            <span class="n">left</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">columns</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="k">with</span> <span class="n">middle</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
                <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Matrice des Corrélations&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">plt</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;La matrice des corrélations nous indique clairement qu&#39;aucune des valeurs nutritionnelle n&#39;est corrélée avec le nombre de notes reçues ou avec la moyenne des notes reçues.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;Cependant cette matrice analyse uniquement les corrélations linéaires entre les différentes données.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;A noter que certaines valeurs nutritionnelles sont fortement corrélées entre elles, ce qui est normal car elles résultent les une des autres. Par example les calories sont la somme des protéines, des graisses et des glucides.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># Scatterplot des valeurs nutritionnelles en fonction de la valeur des notes</span>

            <span class="n">st</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span>
                <span class="s1">&#39;Analyse des nutriments par rapport au nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Graisses vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Calories&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Calories vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sodium&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Sodium vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Glucides vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Protéines vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Sucre vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Graisse saturées vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">axes</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>  <span class="c1"># Cache le dernier subplot</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
            <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;Malgré les résultats de la matrice précédente, on observe une certaine corrélation entre les différentes valeurs nutritionnelles et la note moyenne des recettes.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;Notamment, les recettes fortes en graisse, en sodium et en glucides sont en général mieux notées.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span><span class="s1">&#39;Analyse en clustering&#39;</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;Nous allons essayer de déterminer si il existe des clusters de données dépendant de la moyenne des notes.</span>
<span class="sd">                &quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">left</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">columns</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="k">with</span> <span class="n">left</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                    </span><span class="sd">&quot;&quot;&quot;Le graphique montre la méthode du &quot;coude&quot;, où nous cherchons le nombre de clusters à partir du point où l&#39;inertie cesse de baisser rapidement.</span>
<span class="sd">                Le &quot;coude&quot; est souvent un bon indicateur du nombre optimal de clusters.</span>
<span class="sd">                &quot;&quot;&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">middle</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span>
                    <span class="s1">&#39;Méthode du coude pour déterminer le nombre de clusters&#39;</span><span class="p">)</span>

                <span class="c1"># Sélectionner les colonnes pour le clustering</span>
                <span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Calories&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">]</span>
                <span class="n">df_clustering</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>

                <span class="c1"># Calculer l&#39;inertie pour différents nombres de clusters</span>
                <span class="n">inertias</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">max_clusters</span> <span class="o">=</span> <span class="mi">10</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_clusters</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
                    <span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df_clustering</span><span class="p">)</span>
                    <span class="n">inertias</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>

                <span class="c1"># Tracer le graphique du &quot;coudé&quot;</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_clusters</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
                         <span class="n">inertias</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Méthode du coude&#39;</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Nombre de clusters&#39;</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Inertie (WSS)&#39;</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_clusters</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">plt</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">right</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                    </span><span class="sd">&quot;&quot;&quot;On observe sur le graphique adjacent que le nombre optimal de clusters pour notre jeu de données est de 3.&quot;&quot;&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                    </span><span class="sd">&quot;&quot;&quot;Vous pouvez cependant sélectionner une autre valeur pour déterminer par vous même l&#39;impact de la sélection du nombre de clusters.&quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">cluster_value</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">slider</span><span class="p">(</span>
                <span class="s2">&quot;Choisissez un nombre de clusters :&quot;</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

            <span class="c1"># Sélectionner les colonnes pour le clustering</span>

            <span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">,</span> <span class="s1">&#39;Calories&#39;</span><span class="p">]</span>
            <span class="n">df_clustering</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>

            <span class="c1"># Appliquer K-Means</span>
            <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">cluster_value</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span>
                <span class="n">df_clustering</span><span class="p">)</span>

            <span class="c1"># Affichage des résultats du clustering</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre de clusters créés : </span><span class="si">{</span>
<span class="w">                     </span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Cluster&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Visualisation des clusters en 2D</span>

            <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Graisses vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Calories&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Calories vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sodium&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Sodium vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Glucides vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Protéines vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Sucre vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Cluster&#39;</span><span class="p">,</span>
                            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
            <span class="n">axes</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Graisse saturées vs Nombre de notes&#39;</span><span class="p">)</span>

            <span class="n">axes</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>  <span class="c1"># Cache le dernier subplot</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
            <span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>

            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;Les clusters montrent comment les recettes se regroupent selon des valeurs nutritionnelles similaires.</span>
<span class="sd">                On observe que nos clusters dépendent énormément de la catégorie calories. En effet, cette catégorie est celle qui est la plus corrélée aux autres, en étant la somme des valeurs de graisses, protéines et glucides.&quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;De même, on observe bien que certaines valeurs nutritionnelles montrent des semblants de clusters, même si ils sont moins marqués que ceux de la catégorie calorie.&quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;En revanche, les clusters ne dépendent pas du tout de la valeur de la moyenne des notes, et ce quelque soit le nombre de clusters choisit.&quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;On en conclut que la valeur des notes des recettes n&#39;est définitivement pas corrélée aux valeurs nutritionnelles.&quot;&quot;&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;analyse des valeurs nutritionnelles : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="NutritionPage.display_sidebar">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage.display_sidebar">[docs]</a>
    <span class="k">def</span> <span class="nf">display_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">DEPLOIEMENT_SITE</span> <span class="o">==</span> <span class="s2">&quot;ONLINE&quot;</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="p">:</span>
                    <span class="n">interaction_limit</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">slider</span><span class="p">(</span>
                        <span class="s2">&quot;Chosir une limite d&#39;interaction:&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">,</span> <span class="mi">50000</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">interaction_limit</span> <span class="o">!=</span> <span class="mi">50000</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nutrition_df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">load_and_clean_data</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="n">interaction_limit</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;affichage de la sidebar : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="NutritionPage.display_filtered_recipes">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage.display_filtered_recipes">[docs]</a>
    <span class="k">def</span> <span class="nf">display_filtered_recipes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Affiche un tableau de recettes filtrées en fonction du régime alimentaire sélectionné et permet d&#39;explorer les détails des recettes.</span>

<span class="sd">        Cette fonction permet à l&#39;utilisateur de choisir un régime alimentaire parmi trois options : &quot;Low-Carb&quot;, &quot;High-Protein&quot; et &quot;Low-Fat&quot;.</span>
<span class="sd">        En fonction du régime sélectionné, elle filtre les recettes et affiche un espace interactif avec des informations sur chaque recette, telles que les notes,</span>
<span class="sd">        les valeurs nutritionnelles, etc. L&#39;utilisateur peut également sélectionner une recette pour en afficher les détails, y compris des graphiques sur la composition des calories</span>
<span class="sd">        et des nutriments.&quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">st</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recherche de recette par régime alimentaire.&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">subheader</span><span class="p">(</span>
                <span class="s2">&quot;Cette partie vous offre l&#39;occasion de rechercher vous même des recettes qui pourraient vous intéresser en fonction du régime que vous souhaitez suivre.&quot;</span><span class="p">)</span>

            <span class="c1"># Logging du début de la fonction</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Affichage de la recherche de recettes par régime alimentaire&quot;</span><span class="p">)</span>

            <span class="n">regimes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Low-Carb&quot;</span><span class="p">,</span> <span class="s2">&quot;High-Protein&quot;</span><span class="p">,</span> <span class="s2">&quot;Low-Fat&quot;</span><span class="p">]</span>
            <span class="n">selected_regime</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">selectbox</span><span class="p">(</span><span class="s2">&quot;Choisissez un régime&quot;</span><span class="p">,</span> <span class="n">regimes</span><span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Régime sélectionné : </span><span class="si">{</span><span class="n">selected_regime</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Ajouter des descriptions pour chaque régime</span>
            <span class="n">regime_descriptions</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Low-Carb&quot;</span><span class="p">:</span> <span class="s2">&quot;Le régime Low-Carb limite la consommation de glucides, ce qui pousse le corps à utiliser les graisses comme source principale d&#39;énergie.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;High-Protein&quot;</span><span class="p">:</span> <span class="s2">&quot;Le régime High-Protein se concentre sur un apport élevé en protéines, favorisant la construction musculaire et la perte de poids.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Low-Fat&quot;</span><span class="p">:</span> <span class="s2">&quot;Le régime Low-Fat réduit la consommation de graisses, ce qui peut aider à la gestion du poids et à la santé cardiovasculaire.&quot;</span>
            <span class="p">}</span>

            <span class="c1"># Afficher la description du régime sélectionné</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;### Description du régime **</span><span class="si">{</span><span class="n">selected_regime</span><span class="si">}</span><span class="s2">**:&quot;</span><span class="p">)</span>
            <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">regime_descriptions</span><span class="p">[</span><span class="n">selected_regime</span><span class="p">])</span>

            <span class="k">def</span> <span class="nf">filter_recipes</span><span class="p">(</span><span class="n">regime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Filtrage des recettes pour le régime </span><span class="si">{</span><span class="n">regime</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">regime</span> <span class="o">==</span> <span class="s2">&quot;Low-Carb&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Glucides&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">regime</span> <span class="o">==</span> <span class="s2">&quot;High-Protein&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Protéines&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">75</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">regime</span> <span class="o">==</span> <span class="s2">&quot;Low-Fat&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span><span class="p">[</span><span class="s1">&#39;Graisses&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean_nutrition_df</span>

            <span class="n">filtered_df</span> <span class="o">=</span> <span class="n">filter_recipes</span><span class="p">(</span><span class="n">selected_regime</span><span class="p">)</span>

            <span class="c1"># Vérification si des recettes ont été trouvées</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filtered_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Recettes correspondant au régime **</span><span class="si">{</span><span class="n">selected_regime</span><span class="si">}</span><span class="s2">**:&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered_df</span><span class="p">)</span><span class="si">}</span><span class="s2"> recettes trouvées pour le régime </span><span class="si">{</span>
<span class="w">                            </span><span class="n">selected_regime</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># Configuration de la grille pour afficher les recettes</span>
                <span class="n">grid_options</span> <span class="o">=</span> <span class="n">GridOptionsBuilder</span><span class="o">.</span><span class="n">from_dataframe</span><span class="p">(</span><span class="n">filtered_df</span><span class="p">[[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Nombre de notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Calories&#39;</span><span class="p">,</span>
                                                                              <span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">]])</span>
                <span class="n">grid_options</span><span class="o">.</span><span class="n">configure_selection</span><span class="p">(</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">use_checkbox</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">grid_options</span><span class="o">.</span><span class="n">configure_pagination</span><span class="p">(</span><span class="n">paginationPageSize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
                <span class="n">grid_options</span><span class="o">.</span><span class="n">configure_column</span><span class="p">(</span>
                    <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">headerCheckboxSelection</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoSizeColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="c1"># Affichage de la grille avec les recettes filtrées</span>
                <span class="n">grid_response</span> <span class="o">=</span> <span class="n">AgGrid</span><span class="p">(</span>
                    <span class="n">filtered_df</span><span class="p">,</span> <span class="n">gridOptions</span><span class="o">=</span><span class="n">grid_options</span><span class="o">.</span><span class="n">build</span><span class="p">(),</span> <span class="n">enable_enterprise_modules</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">recette_info</span> <span class="o">=</span> <span class="n">grid_response</span><span class="p">[</span><span class="s1">&#39;selected_rows&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recette sélectionnée : </span><span class="si">{</span>
<span class="w">                                </span><span class="n">recette_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                        <span class="s2">&quot;Sélectionnez une recette pour en afficher les caractéristiques.&quot;</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Aucune recette sélectionnée&quot;</span><span class="p">)</span>
                    <span class="k">return</span>

                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;### Détails pour la recette : </span><span class="si">{</span>
<span class="w">                         </span><span class="n">recette_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">st</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Recette notée </span><span class="si">{</span><span class="n">recette_info</span><span class="p">[</span><span class="s1">&#39;Nombre de notes&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> fois avec une moyenne de </span><span class="si">{</span>
<span class="w">                        </span><span class="n">recette_info</span><span class="p">[</span><span class="s1">&#39;Moyenne des notes&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> sur 5&quot;&quot;&quot;</span><span class="p">)</span>

                <span class="c1"># Diagramme circulaire pour la composition des calories</span>
                <span class="n">Calories_line</span> <span class="o">=</span> <span class="n">recette_info</span><span class="p">[[</span>
                    <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="s1">&#39;Glucides&#39;</span><span class="p">]]</span>
                <span class="n">fig1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">go</span><span class="o">.</span><span class="n">Pie</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">Calories_line</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">Calories_line</span><span class="p">,</span>
                                              <span class="n">hoverinfo</span><span class="o">=</span><span class="s1">&#39;label+percent&#39;</span><span class="p">,</span> <span class="n">textinfo</span><span class="o">=</span><span class="s1">&#39;label+percent&#39;</span><span class="p">,</span> <span class="n">hole</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)])</span>

                <span class="n">fig1</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Diagramme de composition des calories : </span><span class="si">{</span>
<span class="w">                                   </span><span class="n">recette_info</span><span class="p">[</span><span class="s1">&#39;Calories&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> calories totales&quot;</span><span class="p">,</span> <span class="n">title_x</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>

                <span class="c1"># Diagramme en barres pour la composition des nutriments</span>
                <span class="n">full_line</span> <span class="o">=</span> <span class="n">recette_info</span><span class="p">[[</span>
                    <span class="s1">&#39;Graisse_saturées&#39;</span><span class="p">,</span> <span class="s1">&#39;Graisses&#39;</span><span class="p">,</span> <span class="s1">&#39;Protéines&#39;</span><span class="p">,</span> <span class="s1">&#39;Glucides&#39;</span><span class="p">,</span> <span class="s1">&#39;Sucre&#39;</span><span class="p">,</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">]]</span>
                <span class="n">fig2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">full_line</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">full_line</span><span class="p">,</span>
                                              <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="s1">&#39;cyan&#39;</span><span class="p">]))])</span>

                <span class="n">fig2</span><span class="o">.</span><span class="n">add_shape</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">,</span> <span class="n">x0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">x1</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
                               <span class="n">y1</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;Red&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
                <span class="n">fig2</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Composition des nutriments pour </span><span class="si">{</span>
<span class="w">                                   </span><span class="n">recette_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">title_x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

                <span class="c1"># Affichage des deux graphiques côte à côte</span>
                <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">columns</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">with</span> <span class="n">col1</span><span class="p">:</span>
                    <span class="n">st</span><span class="o">.</span><span class="n">plotly_chart</span><span class="p">(</span><span class="n">fig1</span><span class="p">)</span>
                <span class="k">with</span> <span class="n">col2</span><span class="p">:</span>
                    <span class="n">st</span><span class="o">.</span><span class="n">plotly_chart</span><span class="p">(</span><span class="n">fig2</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">st</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Aucune recette trouvée pour le régime **</span><span class="si">{</span><span class="n">selected_regime</span><span class="si">}</span><span class="s2">**.&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Aucune recette trouvée pour le régime </span><span class="si">{</span>
<span class="w">                            </span><span class="n">selected_regime</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;affichage des recettes filtrées : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="NutritionPage.run">
<a class="viewcode-back" href="../../../pages/nutrition.html#src.pages.Nutrition.NutritionPage.run">[docs]</a>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Affiche l&#39;interface utilisateur avec plusieurs onglets permettant de naviguer entre différentes sections de l&#39;application.</span>

<span class="sd">        Cette fonction crée un interface utilisateur basée sur Streamlit avec trois onglets :</span>
<span class="sd">        1. **Accueil** : Affiche le contexte de l&#39;application via la fonction `display_context`.</span>
<span class="sd">        2. **Analyse statistique de la popularité des différentes valeurs nutritionnelles** : Affiche une analyse des données nutritionnelles via la fonction `display_nutrition_analysis`.</span>
<span class="sd">        3. **Choisir la recette adaptée à son régime** : Permet à l&#39;utilisateur de rechercher des recettes en fonction du régime alimentaire via la fonction `display_filtered_recipes`.</span>

<span class="sd">        Chaque onglet est associé à une fonction qui gère l&#39;affichage de l&#39;interface et l&#39;interaction avec l&#39;utilisateur. Les onglets sont présentés sous forme de navigation pour une utilisation fluide et structurée de l&#39;application.</span>

<span class="sd">        La fonction ne renvoie aucune valeur et est responsable de l&#39;organisation de l&#39;interface utilisateur de l&#39;application Streamlit, facilitant l&#39;interaction avec l&#39;utilisateur.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None: Cette fonction ne retourne aucune valeur. Elle sert uniquement à organiser et afficher les différentes sections de l&#39;application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">tabs</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">tabs</span><span class="p">(</span>
                <span class="p">[</span><span class="s2">&quot;Accueil&quot;</span><span class="p">,</span> <span class="s2">&quot;Analyse statistique de la popularité des différentes valeurs nutritionnelles&quot;</span><span class="p">,</span> <span class="s2">&quot;Choisir la recette adaptée à son régime&quot;</span><span class="p">])</span>
            <span class="k">with</span> <span class="n">tabs</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_context</span><span class="p">()</span>
            <span class="k">with</span> <span class="n">tabs</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_nutrition_analysis</span><span class="p">()</span>
            <span class="k">with</span> <span class="n">tabs</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_filtered_recipes</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;exécution de la fonction run : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>
</div>



<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">st</span><span class="o">.</span><span class="n">set_page_config</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="s2">&quot;wide&quot;</span><span class="p">)</span>
        <span class="n">DisplayManager</span><span class="o">.</span><span class="n">load_css</span><span class="p">()</span>
        <span class="n">nutrition_page</span> <span class="o">=</span> <span class="n">NutritionPage</span><span class="p">(</span><span class="n">data_directory</span><span class="o">=</span><span class="s1">&#39;./data&#39;</span><span class="p">)</span>
        <span class="n">nutrition_page</span><span class="o">.</span><span class="n">load_and_clean_data</span><span class="p">()</span>
        <span class="n">nutrition_page</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="n">nutrition_page</span><span class="o">.</span><span class="n">display_sidebar</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;exécution du script principal : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2024, Paul, Alexandre, Alexandre, Julian.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>